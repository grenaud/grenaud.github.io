<p><strong>TLDR: I commit the output of jekyll build and use a symbolic link to point
<code class="highlighter-rouge">/blog/</code> to <code class="highlighter-rouge">/jekyll/_site</code>. Works great!</strong></p>

<p>I recently set up this blog using Jekyll hosted on GitHub pages. It was a lovely
experience getting started and gave me exactly what I was looking for - a full
featured blog framework that gets out of my way and lets me just write.</p>

<p>But there was one gotcha that almost made me abandon ship. I really wanted to
host the blog at danpaz.me/blog, while keeping the same splash page at danpaz.me
that I already have in place.</p>

<p>I took the first step of adding the /blog baseurl in my jekyll configs.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
baseurl: "/blog" # the subpath of your site, e.g. /blog
...
</code></pre></div></div>

<p>Then I saw this in the jekyll docs:</p>

<p><img src="/blog/img/jekyll-source-files-root.png" alt="Source Files Must be in the Root Directory" /></p>

<blockquote>
  <p>GitHub Pages overrides the “Site Source” configuration value, so if you locate your files anywhere other than the root directory, your site may not build correctly.</p>
</blockquote>

<p>Meaning that in order for GitHub to properly build the jekyll site I would have
to keep all jekyll files at the root of the repo, and the site’s index.html
would be generated by the jekyll build. So I would lose my splash page! One
workaround is to <a href="https://jekyllrb.com/docs/themes/#overriding-theme-defaults">replace the jekyll theme’s index.html with my own</a>, but
then I’d lose the nice blog post list the theme provides.</p>

<p>Instead, I decided to commit the output of jekyll build in the <code class="highlighter-rouge">_site/</code> directory.
But to make sure the blog is served at <code class="highlighter-rouge">danpaz.me/blog</code> and not <code class="highlighter-rouge">danpaz.me/blog/_site/</code>
the built files need to be in a <code class="highlighter-rouge">blog</code> directory in my github repo. I considered
copying the built files into a <code class="highlighter-rouge">blog</code> directory every time I build with jekyll,
but I decided to try using a <a href="https://linux.die.net/man/1/ln">symlink</a> to avoid the manual copy step.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ln -sv jekyll/_site blog
</code></pre></div></div>

<p>I wasn’t sure if GitHub would support symbolic links in this way, but turns out
it works fine!</p>

<p>Now my workflow is to keep a terminal open with jekyll build watching to rebuild
the site:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd jekyll
$ jekyll build --watch
</code></pre></div></div>

<p>Now I can add and edit posts to the <code class="highlighter-rouge">jekyll/_posts/</code> directory without thinking
about building the output. If I need to view my blog locally I instead use
<code class="highlighter-rouge">jekyll serve</code>.</p>

<p>Any thoughts on this approach? Get in touch and let me know!</p>

<p>-D</p>

